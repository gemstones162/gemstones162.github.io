function checkAnswer(){clearAreasRightWrongClasses();for(var e=!0,t=0;t<imgs.length;t++){isImgInArea(getCoordsElem(imgs[t]),getCoordsElem(areas[t]))?(checkedElems.includes(imgs[t])||rightCount++,areas[t].classList.add("gem-names__area--right")):(checkedElems.includes(imgs[t])||wrongCount++,areas[t].classList.add("gem-names__area--wrong"),e=!1),checkedElems.push(imgs[t])}return setCookie("rightCount",rightCount,{path:"/"}),setCookie("wrongCount",wrongCount,{path:"/"}),e}function isImgInArea(e,t){var a=80;return e.top>t.top-a&&e.top<t.top+a&&e.left>t.left-a&&e.left<t.left+a}function getCoordsElem(e){var t=e.getBoundingClientRect();return{top:t.top+pageYOffset,left:t.left+pageXOffset}}function clearAreasRightWrongClasses(){for(var e=0;e<areas.length;e++)areas[e].classList.remove("gem-names__area--right"),areas[e].classList.remove("gem-names__area--wrong")}function getCookie(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function setCookie(e,t,a){a=a||{};var n=a.expires;if("number"==typeof n&&n){var r=new Date;r.setTime(r.getTime()+1e3*n),n=a.expires=r}n&&n.toUTCString&&(a.expires=n.toUTCString()),t=encodeURIComponent(t);var o=e+"="+t;for(var s in a){o+="; "+s;var m=a[s];!0!==m&&(o+="="+m)}document.cookie=o}var dragAndDropGemNames=document.getElementById("dragAndDropGemNamesJs");areas=document.getElementsByClassName("gem-names__area"),checkBtn=document.getElementById("checkBtnJs"),nextBtn=document.getElementById("nextBtnJs"),amberImg=document.getElementById("amberImgJs"),garnetImg=document.getElementById("garnetImgJs"),lazuriteImg=document.getElementById("lazuriteImgJs"),malachiteImg=document.getElementById("malachiteImgJs"),nephriteImg=document.getElementById("nephriteImgJs"),turquoiseImg=document.getElementById("turquoiseImgJs"),imgs=[amberImg,garnetImg,lazuriteImg,malachiteImg,nephriteImg,turquoiseImg],lazuriteArea=document.getElementById("lazuriteAreaJs"),garnetArea=document.getElementById("garnetAreaJs"),turquoiseArea=document.getElementById("turquoiseAreaJs"),amberArea=document.getElementById("amberAreaJs"),nephriteArea=document.getElementById("nephriteAreaJs"),malachiteArea=document.getElementById("malachiteAreaJs"),areas=[amberArea,garnetArea,lazuriteArea,malachiteArea,nephriteArea,turquoiseArea];var wrongCount=getCookie("wrongCount"),rightCount=getCookie("rightCount"),checkedElems=[];checkBtn.onclick=function(){checkAnswer()&&(checkBtn.classList.add("btn-check-answer--hidden"),checkBtn.onclick=null,document.onmousedown=null,nextBtn.style.display="block")},document.onmousedown=function(e){function t(e){a.style.left=e.pageX-r+"px",a.style.top=e.pageY-o+"px"}var a=e.target;if("true"==a.getAttribute("ismovable")){var n=getCoordsElem(a),r=e.pageX-n.left,o=e.pageY-n.top;a.style.position="absolute",document.body.appendChild(a),t(e),a.style.zIndex=1e3,document.onmousemove=function(e){t(e);for(var n=getCoordsElem(a),r=0;r<areas.length;r++){isImgInArea(n,getCoordsElem(areas[r]))?areas[r].classList.add("gem-names__area--active"):areas[r].classList.remove("gem-names__area--active")}},document.onmouseup=function(e){for(var t=getCoordsElem(a),n=0;n<areas.length;n++){var r=getCoordsElem(areas[n]);areas[n].classList.remove("gem-names__area--active"),isImgInArea(t,r)&&a.classList.add("drag-and-drop__img--placed")}},a.onmouseup=function(){document.onmousemove=null,a.onmouseup=null},a.ondragstart=function(){return!1}}};